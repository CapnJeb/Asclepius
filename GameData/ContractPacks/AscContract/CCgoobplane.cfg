//	Requires Contract Configurator. Forum link http://forum.kerbalspaceprogram.com/threads/101604
// 	Adds a Contract to recover a prebuilt SSTO spaceplane from Asclepius, and return it to kerbin.
// 	

CONTRACT_TYPE
{
    name = RescueGooba
    group = Far Out
    title = Return Superplane to Kerbin
    description = Gooba Kerman has lost a pilot in a tragic rover accident, and needs a new pilot to fly his Superplane back home to Kerbin. He says the engines should work with actiongroups. This is where you come in.

    synopsis = Land Gooba's Superplane on Kerbin
    completedMessage = Congratulations! Gooba is pleased.
    agent = Far Out Enterprises
    targetBody = Asclepius
    rewardScience = 55.0
    rewardReputation = 10.0
    rewardFunds = 180000.0
    failureReputation = 3.0
    failureFunds = 50.0
    weight = 99.0
    minExpiry = 0.0
    maxExpiry = 0.0
    autoAccept = false
    maxCompletions = 1
    maxSimultaneous = 1

REQUIREMENT
{
    name = Orbit
    type = Orbit
    targetBody = Asclepius
}
    
BEHAVIOUR
{
    name = WaypointGenerator
    type = WaypointGenerator

    WAYPOINT
    {
        name = Gooba
        targetBody = Asclepius
        icon = balloon
        altitude = 0.0
        // The coordinates.
        latitude = 27.6062949241042
        longitude = 377.095175020215
    }
}

PARAMETER
{
name = FindGooba
type = VisitWaypoint
distance = 1000
title = Gooba needs your help!
hideOnCompletion = true
disableOnStateChange = true
optional = true
}

BEHAVIOUR
{
    name = ChangeVesselOwnership
    type = ChangeVesselOwnership
    onState = ParameterCompleted
    parameter = FindGooba
    vessel = Goobs Superplane
    owned = true
}

PARAMETER
{
name = VesselParameterGroup
type = VesselParameterGroup
vessel = Goobs Superplane

    PARAMETER
    {
        name = ReachState
        type = ReachState
        targetBody = Kerbin
	situation = LANDED
        title = Land on Kerbin!
    }

    PARAMETER
    {
        name = VesselNotDestroyed
        type = VesselNotDestroyed

        vessel = Goobs Superplane
    }
}

    BEHAVIOUR
    {
        name = SpawnVessel
        type = SpawnVessel

       
        VESSEL
        {
            // If the name is not supplied, defaults from the name within the
            // craft file
            name = Goobs Superplane

            // Path to the .craft file (relative to the GameData/ directory)
            craftURL = ContractPacks/AscContract/Ships/SPH/Superplane.craft

            // Location of the flag to use.
            // Default = Player's flag for the current game
            flagURL = ContractPacks/AscContract/Flags/swirly.png
            // Whether the vessel should show up as owned or unowned.  If it is
            // owned, then it will be immediately selectable.
            owned = False
            // Where the vessel should spawn - defaulted from the contract if
            // not supplied.
            targetBody = Asclepius
			lat = 27.6062949241042
			lon = 377.095175020215
			heading = 90.0
            // A CREW node indicates one or more crew members to add to the
            // vessel
            CREW
            {
                // Name for the crew member - if not provided, one is
                // auto-generated.
                name = Gooba Kerman
                // Whether or not the Kerbal should be added to the roster on 
                // recovery.
                // Default = True
                addToRoster = True
            }
        }
    }
}

